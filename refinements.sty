\ProvidesPackage{refinements}
\RequirePackage{notation/modes}
\ExecuteOptions{}
\ProcessOptions\relax

% parametric refinement
\newcommand\Refines[3]{\IMode{#1}\parallel\IMode{#2}\sqsubset\OMode{#3}}

% global parametric refinement
\newcommand\GloballyRefines[2]{\IMode{#1}\sqsubset\OMode{#2}}

% equality of parametric refinement
\newcommand\EqRefines[4]{\IMode{#1}\parallel\IMode{#2}=\IMode{#3}\sqsubset\OMode{#4}}

% parametric context refinement
\newcommand\RefinesCtx[3]{\IMode{#1}\parallel\IMode{#2}\sqsubset^\star\OMode{#3}}

% functional refinement
\newcommand\FRefines[4]{%
  \IMode{#1}\parallel\IMode{#2}%
  \vDash\IMode{#3}\sqsubset\OMode{#4}%
}

% equality of functional refinement
\newcommand\FEqRefines[5]{%
  \IMode{#1}\parallel\IMode{#2}%
  \vDash\IMode{#3}=\IMode{#4}
  \sqsubset\OMode{#5}%
}

% parametric equality of refinement members
\newcommand\RMemEq[4]{\IMode{#1}\parallel\IMode{#2}=\IMode{#3}\in\IMode{#4}}

% functional equality of refinement members
\newcommand\FRMemEq[5]{\IMode{#1}\parallel\IMode{#2}\vDash\IMode{#3}=\IMode{#4}\in\IMode{#5}}

% parametric subrefinement
\newcommand\IsSubrefinement[4]{%
  \IMode{#1}\parallel\IMode{#2}%
  \subseteq\IMode{#3}\sqsubset\OMode{#4}%
}

% global value typehood
\newcommand\GlobalIsValueType[2]{%
  \IMode{#1}\ \textit{vtype}_\OMode{#2}
}

% value typehood
\newcommand\IsValueType[3]{%
  \IMode{#1}\parallel \IMode{#2}\ \textit{vtype}_\OMode{#3}
}

\newcommand\IsType[3]{%
  \IMode{#1}\parallel \IMode{#2}\ \textit{type}_\OMode{#3}
}

\newcommand\EqTypeFam[5]{%
  \IMode{#1}\parallel \IMode{#2}%
  \vDash%
  \IMode{#3} = \IMode{#4}\ \textit{type}_\OMode{#5}%
}

\newcommand\IsTypeFam[4]{%
  \IMode{#1}\parallel \IMode{#2}%
  \vDash%
  \IMode{#3}\ \textit{type}_\OMode{#4}%
}

% the object of partial equivalence relations
\newcommand\PERs[1]{%
  \mathfrak{per}(#1)
}

% the object of types
\newcommand\Types[1]{
  \mathfrak{type}_{#1}
}

% the BASE refinement
\newcommand\Base[1]{%
  \mathtt{base}_{#1}
}


\newcommand\VToCType{\mathfrak{c}}

\newcommand\CanOperators{\mathcal{K}}

\newcommand\IsCanOperator[3]{%
  \IMode{#1}\Vdash_{\CanOperators}%
  \IMode{#2}:%
  \OMode{#3}%
}

% the category of classes
\newcommand\Classes{\mathbf{Class}}

% semantic universe
\newcommand\SemU{\mathbf{J}}

\endinput
